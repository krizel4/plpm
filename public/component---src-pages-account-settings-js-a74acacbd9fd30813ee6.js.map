{"version":3,"file":"component---src-pages-account-settings-js-a74acacbd9fd30813ee6.js","mappings":"mZAoJA,MApIsBA,KACH,KAAbC,EAAAA,EAAAA,QACFC,EAAAA,EAAAA,IAAS,UAGX,MAAMC,EAAe,CACnBC,UAAW,GACXC,SAAU,GACVC,MAAO,GACPC,SAAU,GACVC,gBAAiB,IAGbC,EAAa,CACjBL,UAAW,GACXC,SAAU,GACVC,MAAO,GACPC,SAAU,GACVC,gBAAiB,KAGb,EAACE,EAAW,EAACC,IAAiBC,EAAAA,EAAAA,UAAST,IACvC,EAACU,EAAM,EAACC,IAAYF,EAAAA,EAAAA,UAASH,GAE7BM,EAAeA,CAACC,EAAIC,KACxB,MAAMC,EAAW,IAAKR,EAAY,CAACM,GAAKC,GACxCN,EAAcO,IAsChB,OACEC,EAAAA,cAACC,EAAAA,EAAM,KACLD,EAAAA,cAACE,EAAAA,EAAa,KACZF,EAAAA,cAACG,EAAAA,EAAW,CACVC,OAAQ,CACN,CAAEC,KAAM,IAAKC,MAAO,QACpB,CAAED,KAAM,WAAYC,MAAO,WAC3B,CAAED,KAAM,oBAAqBC,MAAO,eAGxCN,EAAAA,cAAA,UAAI,YACJA,EAAAA,cAAA,WACEA,EAAAA,cAAA,QAAMO,SAAWT,GA/CHA,KACpBA,EAAEU,iBACF,IAAIC,GAAY,EAChB,MAAMC,EAAY,IAAKpB,GAEE,KAArBC,EAAWJ,QAC2B,KAApCwB,EAAAA,EAAAA,IAAcpB,EAAWJ,SAC3BsB,GAAY,EACZC,EAAUvB,MACR,+DAIsB,KAAxBI,EAAWH,YACuC,KAAhDwB,EAAAA,EAAAA,IAAuBrB,EAAWH,YACpCqB,GAAY,EACZC,EAAUtB,SACR,+FAGAG,EAAWH,WAAaG,EAAWF,kBACrCoB,GAAY,EACZC,EAAUrB,gBAAkB,oCAId,IAAdoB,GAEFd,EAASL,GACTE,EAAcR,IAEdW,EAASe,IAgBkBG,CAAaf,GAAIgB,YAAU,GAChDd,EAAAA,cAAA,OAAKe,UC3FQ,uCD4FXf,EAAAA,cAACgB,EAAAA,EAAc,CACbnB,GAAI,YACJoB,MAAO1B,EAAWN,UAClBW,aAAcA,CAACC,EAAIC,IAAMF,EAAaC,EAAIC,GAC1CoB,KAAM,QACNC,UAAW,eAEbnB,EAAAA,cAACgB,EAAAA,EAAc,CACbnB,GAAI,WACJoB,MAAO1B,EAAWL,SAClBU,aAAcA,CAACC,EAAIC,IAAMF,EAAaC,EAAIC,GAC1CoB,KAAM,QACNC,UAAW,cAEbnB,EAAAA,cAACgB,EAAAA,EAAc,CACbnB,GAAI,QACJoB,MAAO1B,EAAWJ,MAClBS,aAAcA,CAACC,EAAIC,IAAMF,EAAaC,EAAIC,GAC1CoB,KAAM,QACNC,UAAW,QACXzB,MAAOA,EAAMP,SAGjBa,EAAAA,cAAA,OAAKe,UClHc,6CDmHjBf,EAAAA,cAAA,UAAI,mBACJA,EAAAA,cAAA,OAAKe,UCnHU,2CDoHbf,EAAAA,cAACgB,EAAAA,EAAc,CACbnB,GAAI,WACJoB,MAAO1B,EAAWH,SAClBQ,aAAcA,CAACC,EAAIC,IAAMF,EAAaC,EAAIC,GAC1CoB,KAAM,WACNC,UAAW,eACXzB,MAAOA,EAAMN,WAEfY,EAAAA,cAACgB,EAAAA,EAAc,CACbnB,GAAI,kBACJoB,MAAO1B,EAAWF,gBAClBO,aAAcA,CAACC,EAAIC,IAAMF,EAAaC,EAAIC,GAC1CoB,KAAM,WACNC,UAAW,mBACXzB,MAAOA,EAAML,kBAEfW,EAAAA,cAACoB,EAAAA,EAAM,CAACC,MAAO,UAAWH,KAAM,UAAU,gB,qEEtI/C,EAAQ,mC,UCwCnB,MArCoBI,IAAiB,IAAhB,OAAElB,GAAQkB,EACzBC,EAAenB,EASnB,OARImB,GAAwC,iBAAjBA,IAEvBA,EADEA,EAAaC,QAAQ,MAAQ,EAChBD,EAAaE,MAAM,KAEnB,CAACF,IAKlBvB,EAAAA,cAAA,OAAK,sBAAiBe,UDfD,0CCgBlBQ,GACCA,EAAaG,IAAI,CAACC,EAAOC,IACvB5B,EAAAA,cAAA,QAAM6B,IAAKD,GACRA,EAAa,GACZ5B,EAAAA,cAAA,QAAMe,UDlBA,qCCmBJf,EAAAA,cAAC8B,EAAAA,EAAI,CAACC,OAAQ,WAGA,iBAAVJ,GAAsB,SAAUA,GACtC3B,EAAAA,cAAA,KAAGe,UAAWiB,EAAcC,KAAMN,EAAMtB,MACrCsB,EAAMrB,MAAM4B,QAGC,iBAAVP,KAAwB,SAAUA,IACxC3B,EAAAA,cAAA,QAAMe,UAAWiB,GAAeL,EAAMrB,MAAM4B,QAE5B,iBAAVP,GACN3B,EAAAA,cAAA,QAAMe,UAAWiB,GAAeL,EAAMO,W,+ECjCzCC,EAAa,uCAEbC,EAAU,oCCkDrB,MAjDoBvD,GAOhBmB,EAAAA,cAAA,OAAKe,UDTS,kCCUZf,EAAAA,cAAA,OAAKe,UDRU,qCCSbf,EAAAA,cAACqC,EAAAA,GAAI,CACHC,gBAAiBN,EACjBO,GAAI,mBACJxB,UAAWiB,GACZ,UAGDhC,EAAAA,cAACqC,EAAAA,GAAI,CACHC,gBAAiBN,EACjBO,GAAI,oBACJxB,UAAWiB,GACZ,aAGDhC,EAAAA,cAACqC,EAAAA,GAAI,CACHC,gBAAiBN,EACjBO,GAAI,qBACJxB,UAAWiB,GACZ,YAGDhC,EAAAA,cAACqC,EAAAA,GAAI,CACHC,gBAAiBN,EACjBO,GAAI,mBACJxB,UAAWiB,GACZ,mBAGDhC,EAAAA,cAAA,QACEwC,KAAM,eACNC,QAtCaC,KACnBC,OAAOC,aAAaC,WAAW,QAC/B9D,EAAAA,EAAAA,IAAS,MAqCHgC,UAAWiB,GACZ,Y,UCzBT,MAbsBV,IAAmB,IAAlB,SAAEwB,GAAUxB,EACjC,OACEtB,EAAAA,cAAA,OAAKe,UCNS,qCDOZf,EAAAA,cAAC+C,EAAAA,EAAS,CAACC,KAAM,SACfhD,EAAAA,cAAA,OAAKe,UCTO,uCDUVf,EAAAA,cAACiD,EAAU,MACXjD,EAAAA,cAAA,OAAKe,UCZgB,kDDYsB+B,M","sources":["webpack://gatsby-ecommerce-theme/./src/pages/account/settings.js","webpack://gatsby-ecommerce-theme/./src/pages/account/settings.module.css","webpack://gatsby-ecommerce-theme/./src/components/Breadcrumbs/BreadCrumbs.module.css","webpack://gatsby-ecommerce-theme/./src/components/Breadcrumbs/BreadCrumbs.js","webpack://gatsby-ecommerce-theme/./src/components/AccountNav/AccountNav.module.css","webpack://gatsby-ecommerce-theme/./src/components/AccountNav/AccountNav.js","webpack://gatsby-ecommerce-theme/./src/components/AccountLayout/AccountLayout.js","webpack://gatsby-ecommerce-theme/./src/components/AccountLayout/AccountLayout.module.css"],"sourcesContent":["import React, { useState } from 'react'\nimport { navigate } from 'gatsby'\nimport * as styles from './settings.module.css'\n\nimport AccountLayout from '../../components/AccountLayout'\nimport Button from '../../components/Button'\nimport Breadcrumbs from '../../components/Breadcrumbs'\nimport FormInputField from '../../components/FormInputField'\nimport Layout from '../../components/Layout/Layout'\n\nimport {\n  validateEmail,\n  validateStrongPassword,\n  isAuth\n} from '../../helpers/general'\n\nconst SettingsPage = (props) => {\n  if (isAuth() === false) {\n    navigate('/login')\n  }\n\n  const initialState = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  }\n\n  const errorState = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  }\n\n  const [updateForm, setUpdateForm] = useState(initialState)\n  const [error, setError] = useState(errorState)\n\n  const handleChange = (id, e) => {\n    const tempForm = { ...updateForm, [id]: e }\n    setUpdateForm(tempForm)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    let validForm = true\n    const tempError = { ...errorState }\n\n    if (updateForm.email !== '') {\n      if (validateEmail(updateForm.email) !== true) {\n        validForm = false\n        tempError.email =\n          'Please use a valid email address, such as user@example.com.'\n      }\n    }\n\n    if (updateForm.password !== '') {\n      if (validateStrongPassword(updateForm.password) === false) {\n        validForm = false\n        tempError.password =\n          'Password must have at least 8 characters, 1 lowercase, 1 uppercase and 1 numeric character.'\n      }\n\n      if (updateForm.password !== updateForm.confirmPassword) {\n        validForm = false\n        tempError.confirmPassword = 'Confirm password not the same.'\n      }\n    }\n\n    if (validForm === true) {\n      // success\n      setError(errorState)\n      setUpdateForm(initialState)\n    } else {\n      setError(tempError)\n    }\n  }\n\n  return (\n    <Layout>\n      <AccountLayout>\n        <Breadcrumbs\n          crumbs={[\n            { link: '/', label: 'Home' },\n            { link: '/account', label: 'Account' },\n            { link: '/account/settings', label: 'Settings' }\n          ]}\n        />\n        <h1>Settings</h1>\n        <div>\n          <form onSubmit={(e) => handleSubmit(e)} noValidate>\n            <div className={styles.nameSection}>\n              <FormInputField\n                id={'firstName'}\n                value={updateForm.firstName}\n                handleChange={(id, e) => handleChange(id, e)}\n                type={'input'}\n                labelName={'First Name'}\n              />\n              <FormInputField\n                id={'lastName'}\n                value={updateForm.lastName}\n                handleChange={(id, e) => handleChange(id, e)}\n                type={'input'}\n                labelName={'Last Name'}\n              />\n              <FormInputField\n                id={'email'}\n                value={updateForm.email}\n                handleChange={(id, e) => handleChange(id, e)}\n                type={'email'}\n                labelName={'Email'}\n                error={error.email}\n              />\n            </div>\n            <div className={styles.passwordContainer}>\n              <h2>Change Password</h2>\n              <div className={styles.passwordSection}>\n                <FormInputField\n                  id={'password'}\n                  value={updateForm.password}\n                  handleChange={(id, e) => handleChange(id, e)}\n                  type={'password'}\n                  labelName={'New Password'}\n                  error={error.password}\n                />\n                <FormInputField\n                  id={'confirmPassword'}\n                  value={updateForm.confirmPassword}\n                  handleChange={(id, e) => handleChange(id, e)}\n                  type={'password'}\n                  labelName={'Confirm Password'}\n                  error={error.confirmPassword}\n                />\n                <Button level={'primary'} type={'submit'}>\n                  update\n                </Button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </AccountLayout>\n    </Layout>\n  )\n}\n\nexport default SettingsPage\n","// extracted by mini-css-extract-plugin\nexport var form = \"settings-module--form--2c5a6\";\nexport var nameSection = \"settings-module--nameSection--594c6\";\nexport var passwordContainer = \"settings-module--passwordContainer--a6303\";\nexport var passwordSection = \"settings-module--passwordSection--a18d4\";","// extracted by mini-css-extract-plugin\nexport var breadcrumbs = \"BreadCrumbs-module--breadcrumbs--f7ddc\";\nexport var crumb = \"BreadCrumbs-module--crumb--3257d\";\nexport var spacer = \"BreadCrumbs-module--spacer--95034\";","import React from 'react'\n\nimport * as styles from './BreadCrumbs.module.css'\nimport Icon from '../Icons/Icon'\n\nconst Breadcrumbs = ({ crumbs }) => {\n  let crumbsOutput = crumbs\n  if (crumbsOutput && typeof crumbsOutput !== 'object') {\n    if (crumbsOutput.indexOf('>') > -1) {\n      crumbsOutput = crumbsOutput.split('>')\n    } else {\n      crumbsOutput = [crumbsOutput]\n    }\n  }\n\n  return (\n    <div data-breadcrumbs className={styles.breadcrumbs}>\n      {crumbsOutput &&\n        crumbsOutput.map((crumb, crumbIndex) => (\n          <span key={crumbIndex}>\n            {crumbIndex > 0 && (\n              <span className={styles.spacer}>\n                <Icon symbol={'caret'}></Icon>\n              </span>\n            )}\n            {typeof crumb === 'object' && 'link' in crumb && (\n              <a className={styles.crumb} href={crumb.link}>\n                {crumb.label.trim()}\n              </a>\n            )}\n            {typeof crumb === 'object' && !('link' in crumb) && (\n              <span className={styles.crumb}>{crumb.label.trim()}</span>\n            )}\n            {typeof crumb !== 'object' && (\n              <span className={styles.crumb}>{crumb.trim()}</span>\n            )}\n          </span>\n        ))}\n    </div>\n  )\n}\n\nexport default Breadcrumbs\n","// extracted by mini-css-extract-plugin\nexport var activeLink = \"AccountNav-module--activeLink--80204\";\nexport var root = \"AccountNav-module--root--f8bb1\";\nexport var webLink = \"AccountNav-module--webLink--22ce5\";\nexport var webRoot = \"AccountNav-module--webRoot--ceeec\";","import { Link, navigate } from 'gatsby'\nimport React from 'react'\nimport * as styles from './AccountNav.module.css'\n\nconst AccountNav = (props) => {\n  const handleLogout = () => {\n    window.localStorage.removeItem('key')\n    navigate('/')\n  }\n\n  return (\n    <div className={styles.root}>\n      <div className={styles.webRoot}>\n        <Link\n          activeClassName={styles.activeLink}\n          to={'/account/orders/'}\n          className={styles.webLink}\n        >\n          Orders\n        </Link>\n        <Link\n          activeClassName={styles.activeLink}\n          to={'/account/address/'}\n          className={styles.webLink}\n        >\n          Addresses\n        </Link>\n        <Link\n          activeClassName={styles.activeLink}\n          to={'/account/settings/'}\n          className={styles.webLink}\n        >\n          Settings\n        </Link>\n        <Link\n          activeClassName={styles.activeLink}\n          to={'/account/viewed/'}\n          className={styles.webLink}\n        >\n          Recently Viewed\n        </Link>\n        <span\n          role={'presentation'}\n          onClick={handleLogout}\n          className={styles.webLink}\n        >\n          Logout\n        </span>\n      </div>\n    </div>\n  )\n}\n\nexport default AccountNav\n","import React from 'react'\n\nimport AccountNav from '../AccountNav'\nimport Container from '../Container'\n\nimport * as styles from './AccountLayout.module.css'\n\nconst AccountLayout = ({ children }) => {\n  return (\n    <div className={styles.root}>\n      <Container size={'large'}>\n        <div className={styles.layout}>\n          <AccountNav />\n          <div className={styles.childrenContainer}>{children}</div>\n        </div>\n      </Container>\n    </div>\n  )\n}\n\nexport default AccountLayout\n","// extracted by mini-css-extract-plugin\nexport var childrenContainer = \"AccountLayout-module--childrenContainer--8cb34\";\nexport var layout = \"AccountLayout-module--layout--79a00\";\nexport var root = \"AccountLayout-module--root--2dd8f\";"],"names":["props","isAuth","navigate","initialState","firstName","lastName","email","password","confirmPassword","errorState","updateForm","setUpdateForm","useState","error","setError","handleChange","id","e","tempForm","React","Layout","AccountLayout","Breadcrumbs","crumbs","link","label","onSubmit","preventDefault","validForm","tempError","validateEmail","validateStrongPassword","handleSubmit","noValidate","className","FormInputField","value","type","labelName","Button","level","_ref","crumbsOutput","indexOf","split","map","crumb","crumbIndex","key","Icon","symbol","styles","href","trim","activeLink","webLink","Link","activeClassName","to","role","onClick","handleLogout","window","localStorage","removeItem","children","Container","size","AccountNav"],"sourceRoot":""}